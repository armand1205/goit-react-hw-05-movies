{"version":3,"file":"static/js/192.ab319254.chunk.js","mappings":"sNACA,EAAqC,sCAArC,EAA0F,gCAA1F,EAAsI,6BAAtI,EAAmL,iCAAnL,EAAqO,kCAArO,EAAqR,+B,6BCyErR,MAnEmB,WAAO,IAADA,EAAAC,EACfC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,EAAG,GAAAC,OAAMC,EAAAA,GAAQ,WAAAD,OAAUH,EAAO,aAAAG,OAAYE,EAAAA,IACpDC,GAAqCC,EAAAA,EAAAA,GAAeL,GAA5CM,EAASF,EAATE,UAAWC,EAAOH,EAAPG,QAASC,EAAIJ,EAAJI,KAEtBC,EAA+B,QAAvBb,EAAiB,QAAjBC,GADGa,EAAAA,EAAAA,MACSC,aAAK,IAAAd,OAAA,EAAdA,EAAgBe,YAAI,IAAAhB,EAAAA,GAAK,EAE1C,GAAIU,EACF,OAAOO,EAAAA,EAAAA,KAACC,EAAAA,EAAO,IAEjB,GAAIP,EACF,OAAOM,EAAAA,EAAAA,KAACE,EAAAA,EAAS,IAEnB,GAAIP,EAAM,CACR,IAAMQ,EAAG,kCAAAf,OAAqCO,EAAKS,aAC7CC,EAAOV,EAAKW,aAAeX,EAAKW,aAAaC,MAAM,KAAK,GAAK,MAC7DC,EAAOb,EAAKc,OAASd,EAAKa,KAC1BE,EAAYC,KAAKC,MAA0B,GAApBjB,EAAKkB,cAC5BC,EAwCV,SAAmBC,GACjB,IAAIC,EAAQ,GAKZ,OAJAD,EAAIE,SAAQ,SAAAC,GACVF,GAASE,EAAMV,KAAO,GACxB,IACAQ,EAAQA,GAAgB,KAE1B,CA/CmBG,CAAUxB,EAAKmB,QAG9B,OACEM,EAAAA,EAAAA,MAAA,QAAMC,UAAWC,EAAyBC,SAAA,EACxCvB,EAAAA,EAAAA,KAACwB,EAAAA,GAAI,CAACC,GAAI7B,EAAUyB,UAAWC,EAAmBC,SAAC,aAGnDH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAgBC,SAAA,EAC9BvB,EAAAA,EAAAA,KAAA,OAAK0B,IAAK/B,EAAKS,YAAcD,EAPjC,8EAOmDwB,IAAKnB,KACpDY,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAoBC,SAAA,EAClCvB,EAAAA,EAAAA,KAAA,MAAAuB,SAAKf,EAAO,IAAMH,KAClBe,EAAAA,EAAAA,MAAA,KAAAG,SAAA,CAAG,eAAab,EAAU,QAC1BV,EAAAA,EAAAA,KAAA,MAAAuB,SAAI,cACJvB,EAAAA,EAAAA,KAAA,KAAAuB,SAAI5B,EAAKiC,YACT5B,EAAAA,EAAAA,KAAA,MAAAuB,SAAI,YACJvB,EAAAA,EAAAA,KAAA,KAAAuB,SAAIT,WAGRM,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAqBC,SAAA,EACnCvB,EAAAA,EAAAA,KAAA,MAAAuB,SAAI,qBACJH,EAAAA,EAAAA,MAAA,MAAAG,SAAA,EACEvB,EAAAA,EAAAA,KAAA,MAAAuB,UACEvB,EAAAA,EAAAA,KAACwB,EAAAA,GAAI,CAACH,UAAWC,EAAmBG,GAAE,OAASF,SAAC,YAIlDvB,EAAAA,EAAAA,KAAA,MAAAuB,UACEvB,EAAAA,EAAAA,KAACwB,EAAAA,GAAI,CAACH,UAAWC,EAAmBG,GAAE,UAAYF,SAAC,qBAMzDvB,EAAAA,EAAAA,KAAC6B,EAAAA,GAAM,MAGb,CACF,C","sources":["webpack://react-homework-template/./src/components/pages-components/movie-info/MovieInfo.module.css?edb9","components/pages-components/movie-info/MoviesInfo.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movieInfoContainer\":\"MovieInfo_movieInfoContainer__p1Vmb\",\"movieInfoBtn\":\"MovieInfo_movieInfoBtn__YFAnz\",\"movieInfo\":\"MovieInfo_movieInfo__nT-ql\",\"movieInfoText\":\"MovieInfo_movieInfoText__qKs-s\",\"additionalInfo\":\"MovieInfo_additionalInfo__hHdWY\",\"moreInfoBtn\":\"MovieInfo_moreInfoBtn__yyTGY\"};","import { Link, Outlet, useParams, useLocation } from 'react-router-dom';\nimport { API_KEY, BASE_URL } from 'components/utils/utils';\nimport { useFetchMovies } from 'components/utils/fetchMovies';\nimport style from './MovieInfo.module.css';\nimport Loading from '../Loading/Loading';\nimport ErrorPage from '../Error';\n\nconst MoviesInfo = () => {\n  const { movieId } = useParams();\n  const url = `${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`;\n  const { isLoading, isError, data } = useFetchMovies(url);\n  const location = useLocation();\n  const backLink = location.state?.from ?? -2;\n\n  if (isLoading) {\n    return <Loading />;\n  }\n  if (isError) {\n    return <ErrorPage />;\n  }\n  if (data) {\n    const img = `https://image.tmdb.org/t/p/w500${data.poster_path}`;\n    const year = data.release_date ? data.release_date.split('-')[0] : 'N/A';\n    const name = data.title || data.name;\n    const userScore = Math.round(data.vote_average * 10);\n    const genres = getGenres(data.genres);\n    const defaultImg =\n      'https://ireland.apollo.olxcdn.com/v1/files/0iq0gb9ppip8-UA/image;s=1000x700';\n    return (\n      <main className={style.movieInfoContainer}>\n        <Link to={backLink} className={style.movieInfoBtn}>\n          Go back\n        </Link>\n        <div className={style.movieInfo}>\n          <img src={data.poster_path ? img : defaultImg} alt={name} />\n          <div className={style.movieInfoText}>\n            <h2>{name + ' ' + year}</h2>\n            <p>User Score: {userScore}%</p>\n            <h2>Overview</h2>\n            <p>{data.overview}</p>\n            <h2>Genres</h2>\n            <p>{genres}</p>\n          </div>\n        </div>\n        <div className={style.additionalInfo}>\n          <h3>Additional Info</h3>\n          <ul>\n            <li>\n              <Link className={style.moreInfoBtn} to={`cast`}>\n                Cast\n              </Link>\n            </li>\n            <li>\n              <Link className={style.moreInfoBtn} to={`reviews`}>\n                Reviews\n              </Link>\n            </li>\n          </ul>\n        </div>\n        <Outlet />\n      </main>\n    );\n  }\n};\n\nfunction getGenres(arr) {\n  let types = '';\n  arr.forEach(genre => {\n    types += genre.name + ' ';\n  });\n  types = types ? types : 'N/A';\n  return types;\n}\n\nexport default MoviesInfo;\n"],"names":["_location$state$from","_location$state","movieId","useParams","url","concat","BASE_URL","API_KEY","_useFetchMovies","useFetchMovies","isLoading","isError","data","backLink","useLocation","state","from","_jsx","Loading","ErrorPage","img","poster_path","year","release_date","split","name","title","userScore","Math","round","vote_average","genres","arr","types","forEach","genre","getGenres","_jsxs","className","style","children","Link","to","src","alt","overview","Outlet"],"sourceRoot":""}